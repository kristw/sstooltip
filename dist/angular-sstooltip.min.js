!function(t,o){"function"==typeof define&&define.amd?define(["jquery","angular","sstooltip"],o):o(t.$,t.angular,t.sstooltip)}(this,function(t,o,n){function i(t,o){t.$$phase||t.$root.$$phase?o():t.$apply(o)}function e(t,o,n){return s(t)?t(o):t?t:n}var s=function(t){var o={};return t&&"[object Function]"===o.toString.call(t)},l=o.module("sstooltip",[]);return l.directive("sstooltip",[function(){return{restrict:"AE",replace:!0,template:'<div class="sstooltip-container"><div class="sstooltip"><div ng-if="tooltipText">{{tooltipText}}</div><div ng-if="tooltipSrc"><ng-include src="tooltipSrc"></ng-include></div></div></div>',scope:{tooltipKey:"@",tooltipSrc:"=",tooltipText:"="},link:function(t,e,s){var l=e[0].querySelector(".sstooltip"),c=new n(l);s.tooltipTheme&&o.element(l).addClass("sstooltip-"+s.tooltipTheme),t.$on("sstooltip:show",function(o,n,e){n==t.tooltipKey&&(i(t,function(){t.data=e.data}),c.show(null,e.mouseEvent))}),t.$on("sstooltip:move",function(o,n,i){n==t.tooltipKey&&c.show(null,i.mouseEvent)}),t.$on("sstooltip:hide",function(){c.hide()})}}}]),l.factory("sstooltipManager",[function(){return function(t,n){function i(o,n,i,s,a){o&&t.$on(o,function(t,o){l(e(a,o,o.mouseEvent),e(s,o,o.data))}),n&&t.$on(n,function(t,o){c(e(a,o,o.mouseEvent),e(s,o,o.data))}),i&&t.$on(i,function(){u()})}function s(t,n,i,s,a){var r=o.element(t);n&&r.on(n,function(t){l(t,e(a,t,t.data))}),i&&r.on(i,function(t){c(t,e(a,t,t.data))}),s&&r.on(s,u)}function l(o,i){t.$broadcast("sstooltip:show",n,{mouseEvent:o,data:i})}function c(o,i){t.$broadcast("sstooltip:move",n,{mouseEvent:o,data:i})}function u(){t.$broadcast("sstooltip:hide",n)}return{triggerOnScopeEvents:i,triggerOnDomEvents:s,show:l,move:c,hide:u}}}]),l});